<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <meta name="color-scheme" content="light only"/>
    <title>深色模式禁用测试</title>
    <link rel="stylesheet" href="/src/styles/main.css"/>
    <style>
        body { 
            padding: 20px; 
            font-family: Arial, sans-serif;
        }
        .test-section { 
            margin: 20px 0; 
            padding: 20px; 
            border: 1px solid #ccc; 
            border-radius: 8px;
            background: white;
        }
        .status-indicator {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-weight: bold;
        }
        .light-mode {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }
        .dark-mode {
            background: #fecaca;
            color: #7f1d1d;
            border: 1px solid #ef4444;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // 检测当前是否为深色模式
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const indicator = document.getElementById('mode-indicator');
            
            if (isDarkMode) {
                indicator.textContent = '⚠️ 系统设置为深色模式，但网站应该强制显示浅色模式';
                indicator.className = 'status-indicator dark-mode';
            } else {
                indicator.textContent = '✅ 系统设置为浅色模式';
                indicator.className = 'status-indicator light-mode';
            }
            
            // 检查计算后的样式
            setTimeout(() => {
                const body = document.body;
                const computedStyle = window.getComputedStyle(body);
                const bgColor = computedStyle.backgroundColor;
                const textColor = computedStyle.color;
                
                document.getElementById('computed-styles').innerHTML = `
                    <strong>实际渲染样式：</strong><br>
                    背景色: ${bgColor}<br>
                    文字色: ${textColor}
                `;
            }, 100);
        });
    </script>
</head>

<body>
    <h1>深色模式禁用测试页面</h1>
    
    <div id="mode-indicator" class="status-indicator">检测中...</div>
    
    <div id="computed-styles" style="background: #f0f0f0; padding: 10px; border-radius: 4px;"></div>
    
    <div class="test-section">
        <h2>表单元素测试</h2>
        <label for="test-input" class="ea-label">测试标签（应该是深色文字）:</label>
        <input type="text" id="test-input" class="ea-input" placeholder="输入框测试（应该是白色背景，深色文字）" />
        <br><br>
        <textarea class="ea-textarea" placeholder="文本域测试（应该是白色背景，深色文字）"></textarea>
        <br><br>
        <select class="ea-select">
            <option>选择框测试</option>
            <option>选项1</option>
            <option>选项2</option>
        </select>
    </div>
    
    <div class="test-section ea-form-card">
        <div class="ea-form-card-header">
            <h3 class="ea-form-card-title">表单卡片标题（应该是深色文字）</h3>
            <p class="ea-form-card-description">这是描述文字，应该是深色显示</p>
        </div>
        <div class="ea-form-card-content">
            <p>这是表单卡片内容，无论系统是否为深色模式，都应该显示为浅色背景配深色文字。</p>
        </div>
    </div>
    
    <div class="test-section">
        <h3>说明</h3>
        <p><strong>测试目的：</strong>验证无论系统时间是白天还是晚上，无论系统设置是浅色还是深色模式，网站都应该强制使用浅色模式显示。</p>
        <p><strong>期望结果：</strong></p>
        <ul>
            <li>所有文字都应该是深色（黑色或深灰色）</li>
            <li>所有背景都应该是浅色（白色或浅灰色）</li>
            <li>输入框应该有白色背景和深色文字</li>
            <li>标签文字应该清晰可见</li>
        </ul>
    </div>
</body>
</html>
