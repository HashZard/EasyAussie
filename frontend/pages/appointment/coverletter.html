<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="permission" content="required">
    <title>Cover Letter 信息填写 - Easy Aussie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/common.css"/>
    <link rel="stylesheet" href="/css/ea-card.css"/>
    <script src="/js/components/layout.js" defer></script>
    <script src="/js/components/form-dynamic.js" defer></script>
    <script src="/js/components/ea-form.js" defer></script>
    <script src="/js/services/coverletter.js" defer></script>
</head>
<body class="bg-gray-100 text-gray-900" data-required-role="paid1">
<div id="header"></div>

<main class="w-full max-w-5xl mx-auto p-6">
    <div class="ea-card">
        <div class="relative mb-6">
            <div id="back-button"></div>
            <h2 class="text-2xl font-bold mb-4 text-center">Cover Letter 信息汇总</h2>
        </div>

        <!-- 身份选择 -->
        <div class="flex justify-center mb-6">
            <div class="flex border border-gray-300 rounded-md overflow-hidden">
                <button id="tabStudent" class="px-6 py-2 bg-blue-600 text-white font-semibold"
                        onclick="switchApplicantType('student')">学生
                </button>
                <button id="tabWorker" class="px-6 py-2 bg-white text-gray-700 font-semibold hover:bg-gray-100"
                        onclick="switchApplicantType('worker')">工作
                </button>
            </div>
        </div>

        <form id="standardForm" action="/api/form-submit" method="POST" class="space-y-6"
              data-success="/pages/submit-success.html" data-fail="/pages/submit-fail.html">
            <!-- 页面标识 -->
            <input type="hidden" name="formType" value="coverletter"/>
            <!-- 基本信息 -->
            <div class="ea-section">
                <h3 class="ea-section-title">基本信息</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- 姓名 & 邮箱 -->
                    <label class="ea-label">姓名：
                        <input type="text" name="fullName" class="ea-input" required/>
                    </label>
                    <label class="ea-label">邮箱：
                        <input type="email" name="email" id="email" class="ea-input" required/>
                    </label>
                    <label id="visaType" class="ea-label">签证类型：
                        <input type="text" name="visaType" class="ea-input"/>
                    </label>

                    <!-- 是否在澳洲上过学 -->
                    <div id="studiedInAusField" class="grid grid-cols-4 items-center gap-4">
                        <label class="ea-label col-span-2">是否在澳洲上过学：</label>
                        <div class="col-span-2 flex gap-6">
                            <label class="ea-radio-option">
                                <input type="radio" name="studiedInAus" value="yes" class="mr-2"
                                       onchange="toggleSelectByNames(true, ['major', 'uniName'])"/>
                                是
                            </label>
                            <label class="ea-radio-option">
                                <input type="radio" name="studiedInAus" value="no" class="mr-2"
                                       onchange="toggleSelectByNames(false, ['major', 'uniName'])"/>
                                否
                            </label>
                        </div>
                    </div>

                    <label id="uniField" class="ea-label">学校：
                        <input type="text" name="uniName" class="ea-input"/>
                    </label>
                    <label id="majorField" class="ea-label">专业：
                        <input type="text" name="major" class="ea-input"/>
                    </label>

                    <!-- 来澳和居留时间 -->
                    <label id="arrivalDateLabel" class="ea-label"> <span id="arrivalDateText">(预计)来澳时间：</span>
                        <input type="month" name="arrivalDate" class="ea-input"/>
                    </label>
                    <label class="ea-label">预计在澳居留至：
                        <input type="month" name="stayUntil" class="ea-input"/>
                    </label>

                    <!-- 个人经历简述 -->
                    <div class="mt-4 md:col-span-2">
                        <label class="ea-label">个人经历描述：</label>
                        <textarea name="personalStrength"
                                  class="w-full p-2 border border-gray-300 rounded-md"
                                  placeholder="例如：工作经历、国外生活经历"></textarea>
                    </div>
                </div>
            </div>

            <!-- 工作经历 -->
            <div id="workExperienceContainer" class="ea-section" data-limit="3">
                <h3 class="ea-section-title">工作经历</h3>
                <div class="form-clone-wrapper space-y-4">
                    <!-- 单条工作记录 -->
                    <div class="form-entry relative space-y-4 border border-gray-300 p-4 rounded-md">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <label class="ea-label">公司名称：
                                <input type="text" name="companyName[]" class="ea-input  mt-2"
                                       placeholder="请输入公司名称"/>
                            </label>
                            <label class="ea-label">职位：
                                <input type="text" name="jobPosition[]" class="ea-input  mt-2"
                                       placeholder="请输入职位"/>
                            </label>
                            <label class="ea-label">收入情况：
                                <input type="text" name="income[]" class="ea-input" placeholder="例如 1000 AUD/Week"/>
                            </label>
                            <label class="ea-label">入职日期：
                                <input type="month" name="onboardDate[]" class="ea-input"/>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- 添加按钮 -->

                <button type="button" class="ea-add-btn text-blue-600 hover:underline"
                        data-target="#workExperienceContainer">➕ 增加一条工作经历
                </button>
            </div>


            <!-- 经济概况 -->
            <div class="ea-section">
                <h3 class="ea-section-title">经济概况</h3>
                <div class="space-y-6">

                    <!-- 接受提前支付房租 -->
                    <div class="grid grid-cols-4 items-center gap-4">
                        <label class="ea-label col-span-1">接受提前支付房租：</label>
                        <div class="flex gap-4 col-span-1">
                            <label class="ea-radio-option">
                                <input type="radio" name="payRentAdvance" value="yes" class="mr-2"
                                       onchange="toggleSelectBox(true, 'upfrontMonths')"/>
                                是
                            </label>
                            <label class="ea-radio-option">
                                <input type="radio" name="payRentAdvance" value="no" class="mr-2"
                                       onchange="toggleSelectBox(false, 'upfrontMonths')"/>
                                否
                            </label>
                        </div>
                        <div class="ea-inline-field flex items-center gap-2 col-span-2">
                            <label class="ea-inline-label min-w-[6rem]">接受期限：</label>
                            <select name="upfrontMonths"
                                    id="upfrontMonths"
                                    class="ea-select ea-select-disabled w-36"
                                    disabled>
                                <option value="">请选择</option>
                                <option value="3">3个月</option>
                                <option value="6">6个月</option>
                                <option value="12">12个月</option>
                            </select>
                            <span class="w-36 invisible">占位</span>
                        </div>
                    </div>


                    <!-- 接受加租金 -->
                    <div class="grid grid-cols-4 items-center gap-4">
                        <label class="ea-label col-span-1">接受加租金：</label>
                        <div class="flex gap-4 col-span-1">
                            <label class="ea-radio-option">
                                <input type="radio" name="allowRentIncrease" value="yes" class="mr-2"
                                       onchange="toggleSelectBox(true, 'rentIncreaseMin'); toggleSelectBox(true, 'rentIncreaseMax')"/>
                                是
                            </label>
                            <label class="ea-radio-option">
                                <input type="radio" name="allowRentIncrease" value="no" class="mr-2"
                                       onchange="toggleSelectBox(false, 'rentIncreaseMin'); toggleSelectBox(false, 'rentIncreaseMax')"/>
                                否
                            </label>
                        </div>
                        <div class="ea-inline-field">
                            <label class="ea-inline-label">租金范围：</label>
                            <input id="rentIncreaseMin" name="rentIncreaseMin"
                                   class="ea-number-input w-36 ea-select-disabled"
                                   type="number" placeholder="最低" disabled/>
                            <span class="mx-2">至</span>
                            <input id="rentIncreaseMax" name="rentIncreaseMax"
                                   class="ea-number-input w-36 ea-select-disabled"
                                   type="number" placeholder="最高" disabled/>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- 存款金额 -->
                        <label class="ea-label">
                            存款金额：
                            <div class="flex items-center gap-2 mt-1">
                                <input type="number" name="depositAUD" class="ea-number-input" required/>
                                <span class="text-sm text-gray-500 w-44">澳元</span>
                                <input type="number" name="depositCNY" class="ea-number-input" required/>
                                <span class="text-sm text-gray-500 w-44">人民币</span>
                            </div>
                        </label>

                        <!-- 家庭经济支持 -->
                        <label class="ea-label">
                            家庭经济支持：
                            <input type="text" name="familySupportWorker" id="familySupportWorker"
                                   class="ea-input mt-1" required placeholder="如：每月父母补贴"/>
                        </label>
                    </div>

                    <!-- 资产情况 -->
                    <div>
                        <label class="ea-label">资产情况说明：</label>
                        <textarea name="assets" class="ea-input" placeholder="如：车、房等"></textarea>
                    </div>

                </div>
            </div>


            <!-- 居住历史 -->
            <div class="ea-section" id="rentalHistoryContainer" data-limit="3">
                <h3 class="ea-section-title">居住历史</h3>
                <div class="form-clone-wrapper space-y-4">
                    <div class="form-entry relative space-y-4 border border-gray-300 p-4 rounded-md">
                        <!-- 第一行：房产地址 -->
                        <div class="grid grid-cols-1">
                            <label class="ea-label">租房地址：
                                <input type="text" name="rentalAddress[]" class="ea-input w-full mt-2"/>
                            </label>
                        </div>

                        <!-- 第二行：租房类型 + 备注 -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="ea-inline-field">
                                <label class="ea-inline-label">租房类型：</label>
                                <select name="rentalType[]" class="ea-select w-32">
                                    <option value="学生公寓">学生公寓</option>
                                    <option value="房东直租">房东直租</option>
                                    <option value="中介租房">中介租房</option>
                                    <option value="其他">其他(无合同)</option>
                                </select>
                            </div>
                            <div class="ea-inline-field">
                                <label class="ea-inline-label">备注：</label>
                                <input type="text" name="rentalNote[]" class="ea-input"
                                       placeholder="如：二房东、合租等"/>
                            </div>
                        </div>

                        <!-- 第三行：居住时间 + 租金 -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="ea-inline-field">
                                <label class="ea-inline-label">居住时间：</label>
                                <input type="month" name="rentalStart[]" class="ea-input w-32"/>
                                <span class="mx-2">至</span>
                                <input type="month" name="rentalEnd[]" class="ea-input w-32"/>
                            </div>
                            <div class="ea-inline-field">
                                <label class="ea-inline-label">租金：</label>
                                <input type="text" name="rentalPrice[]" class="ea-input"
                                       placeholder="如 250/week"/>
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="ea-add-btn text-blue-600 hover:underline"
                        data-target="#rentalHistoryContainer">➕ 增加一条居住历史
                </button>
            </div>


            <!-- 其他信息 -->
            <div class="ea-section">
                <h3 class="ea-section-title">其他信息</h3>
                <div class="grid grid-cols-4 items-center gap-4">


                    <label class="ea-label col-span-1">是否养宠物：</label>
                    <div class="flex gap-4 col-span-1">
                        <label class="ea-radio-option">
                            <input type="radio" name="petOption" value="yes" class="mr-2"/> 是
                        </label>
                        <label class="ea-radio-option">
                            <input type="radio" name="petOption" value="no" class="mr-2"/> 否
                        </label>
                    </div>


                    <!-- 是否抽烟 -->
                    <label class="ea-label col-span-1">是否抽烟：</label>
                    <div class="flex gap-4 col-span-1">
                        <label class="ea-radio-option">
                            <input type="radio" name="smokeOption" value="yes" class="mr-2"/> 是
                        </label>
                        <label class="ea-radio-option">
                            <input type="radio" name="smokeOption" value="no" class="mr-2"/> 否
                        </label>
                    </div>

                </div>

                <!-- 个人优势描述 -->
                <div class="mt-4">
                    <label class="ea-label">个人优势描述：</label>
                    <textarea name="personalStrength"
                              class="w-full p-2 border border-gray-300 rounded-md"
                              placeholder="如：爱干净、规律生活、易沟通等"></textarea>
                </div>
            </div>

            <button type="submit" class="ea-button w-full">
                提交
            </button>
        </form>
    </div>
</main>

<div id="footer" class="mt-12"></div>
</body>
</html>
